<div class="w-full relative">
  <header class="py-5 px-40 fixed w-full flex justify-between items-center z-20 bg-white shadow-sm">
    <div class="flex items-center gap-8">
      <div class="logo">
        <a [routerLink]="['/' + currentLanguage + '/']" class="text-[30px] font-[400]">Open Voice</a>
      </div>
    </div>
    <div class="flex items-center gap-10 relative font-[500] text-[14px]">
      <div class="relative dropdown-container tooltip-container">
        <a class="cursor-pointer flex items-center gap-4 uppercase tooltip-link" (click)="toggleNavDropdown('speak', $event)">{{ 'speak' | translate }}
          <svg width="10px" height="9px" viewBox="0 0 13 9" version="1.1" class=""><polygon points="11.7578125 0.75 12.5 1.5703125 6.25 8.25 0 1.5703125 0.7421875 0.75 6.25 6.609375"></polygon></svg>
        </a>
        <span *ngIf="openDropdown != 'speak'" class="tooltip">{{ 'tooltip_speak' | translate }}</span>
        <div *ngIf="openDropdown === 'speak'" class="dropdown-menu">
          <a [routerLink]="['/' + currentLanguage + '/speak']" class="flex items-center gap-4"><i class='bx bx-microphone text-[16px]' style='color:#ff4f5e'  ></i> {{ 'read_sentence' | translate }}</a>
          <a [routerLink]="['/' + currentLanguage + '/speak']" class="flex items-center gap-4"><i class='bx bx-folder' ></i>{{ 'organizations_list' | translate }}</a>
        </div>
      </div>

      <div class="relative dropdown-container tooltip-container">
        <a class="cursor-pointer flex items-center gap-4 uppercase tooltip-link" (click)="toggleNavDropdown('listen', $event)">{{ 'listen' | translate }}
          <svg width="10px" height="9px" viewBox="0 0 13 9" version="1.1" class=""><polygon points="11.7578125 0.75 12.5 1.5703125 6.25 8.25 0 1.5703125 0.7421875 0.75 6.25 6.609375"></polygon></svg>
        </a>
        <span *ngIf="openDropdown != 'listen'" class="tooltip">{{ 'tooltip_listen' | translate }}</span>
        <div *ngIf="openDropdown === 'listen'" class="dropdown-menu">
          <a class="flex items-center gap-4" [routerLink]="['/' + currentLanguage + '/listen']"><i class='bx bx-play' style="color: #59cbb7"></i>{{ 'check_pronunciation' | translate }}</a>
        </div>
      </div>

      <div class="relative dropdown-container tooltip-container">
        <a class="cursor-pointer flex items-center gap-4 uppercase tooltip-link" (click)="toggleNavDropdown('record', $event)">{{ 'write' | translate }}
          <svg width="10px" height="9px" viewBox="0 0 13 9" version="1.1" class=""><polygon points="11.7578125 0.75 12.5 1.5703125 6.25 8.25 0 1.5703125 0.7421875 0.75 6.25 6.609375"></polygon></svg>
        </a>
        <span *ngIf="openDropdown != 'record'" class="tooltip">{{ 'tooltip_write' | translate }}</span>
        <div *ngIf="openDropdown === 'record'" class="dropdown-menu">
          <a class="flex items-center gap-4" [routerLink]="['/' + currentLanguage + '/write']"><i class='bx bx-edit-alt' style='color:#629ff4'  ></i>{{ 'add_sentence' | translate }}</a>
        </div>
      </div>

      <div class="relative tooltip-container">
        <a href="#" class="cursor-pointer uppercase tooltip-link">{{ 'download' | translate }}</a>
        <span class="tooltip">{{ 'tooltip_download' | translate }}</span>
      </div>

      <div class="relative dropdown-container tooltip-container">
        <a class="cursor-pointer flex items-center gap-4 uppercase tooltip-link" (click)="toggleNavDropdown('about', $event)">{{ 'about' | translate }}
          <svg width="10px" height="9px" viewBox="0 0 13 9" version="1.1" class=""><polygon points="11.7578125 0.75 12.5 1.5703125 6.25 8.25 0 1.5703125 0.7421875 0.75 6.25 6.609375"></polygon></svg>
        </a>
        <span *ngIf="openDropdown != 'about'" class="tooltip">{{ 'tooltip_about' | translate }}</span>
        <div *ngIf="openDropdown === 'about'" class="dropdown-menu">
          <a class="flex items-center gap-4"><i class='bx bx-world' ></i> {{ 'community_and_languages' | translate }}</a>
          <a href="#">Опция 2</a>
        </div>
      </div>
    </div>

    <div class="flex items-center gap-8">
      <a *ngIf="!this.isAuth" [routerLink]="['/' + currentLanguage + '/auth/login']" class="text-[14px] border border-[#000000] font-[500] rounded-[20px] px-4 py-2 uppercase">{{ 'login' | translate }}/{{ 'register' | translate }}</a>
      <div *ngIf="this.isAuth" class="flex items-center gap-2 relative group cursor-pointer">
        <div class="w-[40px] h-[40px] rounded-[50%] bg-[#F89096] flex justify-center items-center">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 225 273">
            <defs>
              <linearGradient id="a" x1="39.511%" x2="41.409%" y1="99.198%" y2="-19.25%">
                <stop offset="0%" stop-color="#FF656E"/>
                <stop offset="100%" stop-color="#C5C9FF"/>
              </linearGradient>
              <path id="b" d="M196.491 110.551c-7.532 19.645-24.066 26.934-34.482 29.638-6.928 1.695-21.867 6.655-55.716 6.655-33.849 0-50.273-5.302-55.94-6.655-9.858-2.288-25.239-8.56-33.033-26.634-1.15-2.668-2.135-5.593-2.913-8.8-1.252-5.165-1.966-11.061-1.966-17.795V54.912c0-5.252.45-10.001 1.264-14.295.672-3.542 1.591-6.774 2.71-9.724C28.087.11 61.452.091 61.452.091h89.998s28.882.016 42.304 24.81c4.063 7.505 6.709 17.28 6.709 30.011 0 9.375-1.502 49.196-3.972 55.64zm-3.968 89.395c4.104-47.023-36.017-44.079-36.017-44.079l-51.455-1.173-46.652 1.173s-39.041-3.977-36.012 44.08c2.942 46.72 166.065 46.635 170.136 0z"/>
              <path id="c" d="M.132.452H58.32S58.416 18.9 29.034 18.9C1.164 18.899.132.452.132.452z"/>
            </defs>
            <g fill="none" fill-rule="evenodd">
              <path stroke="#000007" stroke-width="3" d="M150.544 37.977l.35-.458-.404-.017-.322.011.376.464zm0 0l.549.676c-.29.236-.813.236-1.087.026l.538-.702zm-1.342-1.653c.8-.65 1.814-.65 2.628-.026l.564.431 1.248 37.771h-6.528l1.563-37.75.525-.426zm1.3-8.824c2.762 0 4.998 2.248 4.998 5.016 0 2.769-2.237 5.016-5 5.016-2.762 0-5-2.246-5-5.015 0-1.33.525-2.604 1.462-3.545a4.992 4.992 0 0 1 3.54-1.472z"/>
              <g stroke="#000" stroke-width="3" transform="translate(3 73)">
                <path fill="url(#a)" d="M195.696 109.352c5.868-.104 17.633 4.682 17.633-39.144 0-43.827-11.765-39.041-17.633-39.145m-178.22 78.289c-5.867-.104-17.41 0-17.41-39.144 0-39.145 11.543-39.041 17.41-39.145"/>
                <use fill="#F3F2F1" xlink:href="#b"/>
              </g>
              <path fill="#FFF" stroke="#000" stroke-width="3" d="M75.25 89S33 89.026 33 138.324v9.79c0 35.307 24.924 46.073 32.314 48.192 7.968 2.289 14.466 5.685 45.044 5.685 16.218 0 77.642 1.991 77.642-53.876v-9.79C188 89.024 145.748 89 145.748 89H75.251z"/>
              <use fill="#000007" transform="translate(80 160)" xlink:href="#c"/>
              <path fill="#000" stroke="#000" stroke-width="3" d="M109 225c18.541 0 30-.25 30 7.487 0 8.36-11.459 7.487-30 7.487-18.54 0-30-.061-30-7.487 0-7.376 11.46-7.486 30-7.486z"/>
              <g fill-rule="nonzero">
                <path fill="#FFF" d="M74.971 138.84a9.507 9.507 0 1 0 0-19.014 9.507 9.507 0 0 0 0 19.014zm0 3c-6.907 0-12.507-5.6-12.507-12.507s5.6-12.507 12.507-12.507c6.908 0 12.507 5.6 12.507 12.507 0 6.908-5.6 12.507-12.507 12.507z"/>
                <g transform="translate(60 113)">
                  <circle cx="14" cy="15" r="14" fill="#000"/>
                  <circle cx="21.808" cy="5.645" r="4.857" fill="#FFF"/>
                </g>
              </g>
              <g fill-rule="nonzero">
                <path fill="#FFF" d="M139.971 138.84a9.507 9.507 0 1 0 0-19.014 9.507 9.507 0 0 0 0 19.014zm0 3c-6.907 0-12.507-5.6-12.507-12.507s5.6-12.507 12.507-12.507c6.908 0 12.507 5.6 12.507 12.507 0 6.908-5.6 12.507-12.507 12.507z"/>
                <g transform="translate(125 113)">
                  <circle cx="14" cy="15" r="14" fill="#000"/>
                  <circle cx="22" cy="5" r="5" fill="#FFF"/>
                </g>
              </g>
            </g>
          </svg>
        </div>

        <span class="group-hover:text-blue-500 uppercase transition">{{ this.currentUser?.name }}</span>

        <i class='bx bx-chevron-down group-hover:text-blue-500 transition'></i>

        <div
          class="absolute top-full left-0 w-[150px] z-[50] bg-white shadow-md rounded-md pt-2 opacity-0 invisible transition-all transform scale-95
    group-hover:opacity-100 group-hover:visible group-hover:scale-100">
          <ul>
            <li class="px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center gap-2">
              <i class='bx bx-user' ></i>
              <a [routerLink]="['/', languageService.currentLang(), 'profile', 'info']">{{ 'profile' | translate }}</a>
            </li>
            <li class="px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center gap-2">
              <i class='bx bx-cog' ></i>
              <a [routerLink]="['/', languageService.currentLang(), 'profile', 'settings']">{{ 'settings' | translate }}</a>
            </li>
            <li (click)="logout()" class="px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center gap-2">
              <i class='bx bx-log-out' ></i>
              {{ 'logout' | translate }}</li>
          </ul>
        </div>
      </div>

      <div class="relative" (clickOutside)="closeDropdown()">
        <div
          class="flex items-center gap-2 border-2 text-[14px] border-[#000000] font-[500] px-4 py-2 cursor-pointer"
          (click)="toggleDropdown($event)"
        >
          <i class="bx bx-world"></i>
          <span class="uppercase">{{ languageService.currentLang() }}</span>
        </div>

        <div
          *ngIf="isDropdownOpen"
          class="absolute left-0 mt-2 w-40 bg-white border border-gray-300 rounded shadow-lg z-10"
        >
          <div
            *ngFor="let lang of availableLanguages"
            class="px-4 py-2 hover:bg-gray-200 cursor-pointer"
            (click)="switchLanguage(lang.code, $event)"
          >
            {{ lang.label }}
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="pt-[85px]">
    <div>
      <router-outlet></router-outlet>
    </div>
  </main>

</div>
